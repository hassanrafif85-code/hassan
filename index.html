<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Menangkap Ikan</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: linear-gradient(to bottom, #00aaff, #004466);
    font-family: sans-serif;
    color: white;
  }

  #gameArea {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }

  .ikan {
    position: absolute;
    width: 60px;
    height: 40px;
    background: orange;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  }

  .ikan::before {
    content: "";
    position: absolute;
    right: -15px;
    top: 10px;
    width: 0;
    height: 0;
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    border-left: 15px solid orange;
  }

  #jaring {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 80px;
    border: 3px solid #fff;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
  }

  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    font-size: 24px;
    font-weight: bold;
  }
</style>
</head>
<body>
  <div id="gameArea">
    <div id="score">Skor: 0</div>
    <div id="jaring"></div>
  </div>

<script>
const gameArea = document.getElementById("gameArea");
const jaring = document.getElementById("jaring");
const scoreText = document.getElementById("score");

let skor = 0;
let jaringX = window.innerWidth / 2;
const kecepatanJaring = 15;

document.addEventListener("keydown", (e) => {
  if (e.key === "ArrowLeft") jaringX -= kecepatanJaring;
  if (e.key === "ArrowRight") jaringX += kecepatanJaring;
  jaringX = Math.max(0, Math.min(window.innerWidth - jaring.offsetWidth, jaringX));
  jaring.style.left = jaringX + "px";
});

// Membuat ikan secara berkala
function buatIkan() {
  const ikan = document.createElement("div");
  ikan.classList.add("ikan");
  ikan.style.top = Math.random() * (window.innerHeight - 200) + "px";
  ikan.style.left = "-60px";
  gameArea.appendChild(ikan);

  let posisiX = -60;
  const kecepatan = 2 + Math.random() * 3;

  const gerak = setInterval(() => {
    posisiX += kecepatan;
    ikan.style.left = posisiX + "px";

    // Deteksi tangkapan
    const ikanRect = ikan.getBoundingClientRect();
    const jaringRect = jaring.getBoundingClientRect();

    if (
      ikanRect.bottom > jaringRect.top &&
      ikanRect.top < jaringRect.bottom &&
      ikanRect.left < jaringRect.right &&
      ikanRect.right > jaringRect.left
    ) {
      // Tertangkap!
      skor++;
      scoreText.textContent = "Skor: " + skor;
      ikan.remove();
      clearInterval(gerak);
    }

    // Hilangkan jika keluar layar
    if (posisiX > window.innerWidth) {
      ikan.remove();
      clearInterval(gerak);
    }
  }, 20);
}

// Spawner ikan
setInterval(buatIkan, 1000);
</script>
</body>
</html>
